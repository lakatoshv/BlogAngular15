/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component } from '@angular/core';
import { Angular2TokenService } from '../../angular2-token.service';
import { A2tFormService } from '../a2t-shared/a2t-form/a2t-form.service';
import { RESET_PASSWORD_FORM } from '../a2t-ui.forms';
var A2tResetPasswordComponent = /** @class */ (function () {
    function A2tResetPasswordComponent(_formService, _sessionService) {
        var _this = this;
        this._formService = _formService;
        this._sessionService = _sessionService;
        this._emailSend = false;
        this._formService.initForm(RESET_PASSWORD_FORM);
        this._formService.submit$.subscribe(function (data) { return _this._sessionService.resetPassword(data).subscribe(function (res) { return _this._handleSuccess(); }, function (error) { return _this._handleError(); }); });
    }
    /**
     * @return {?}
     */
    A2tResetPasswordComponent.prototype._handleSuccess = /**
     * @return {?}
     */
    function () {
        this._emailSend = true;
    };
    /**
     * @return {?}
     */
    A2tResetPasswordComponent.prototype._handleError = /**
     * @return {?}
     */
    function () {
        this._emailSend = true;
    };
    A2tResetPasswordComponent.decorators = [
        { type: Component, args: [{
                    selector: 'a2t-reset-password',
                    providers: [A2tFormService],
                    template: "\n        <a2t-headline *ngIf=\"!_emailSend\">Reset your Password</a2t-headline>\n        <a2t-form *ngIf=\"!_emailSend\">Reset Password</a2t-form>\n        <p class=\"email-send-text\" *ngIf=\"_emailSend\">\n            If the entered email is registered we will send instruction on how to reset your password.\n        </p>\n        <a2t-links *ngIf=\"!_emailSend\" case=\"reset-password\"></a2t-links>\n    ",
                    styles: ["\n        .email-send-text {\n            background-color: #72c380;\n            color: white;\n            font-size: 16pt;\n            text-align: center;\n            padding: 20px;\n            border-radius: 3px;\n        }\n    "]
                },] },
    ];
    /** @nocollapse */
    A2tResetPasswordComponent.ctorParameters = function () { return [
        { type: A2tFormService },
        { type: Angular2TokenService }
    ]; };
    return A2tResetPasswordComponent;
}());
export { A2tResetPasswordComponent };
function A2tResetPasswordComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    A2tResetPasswordComponent.prototype._emailSend;
    /** @type {?} */
    A2tResetPasswordComponent.prototype._formService;
    /** @type {?} */
    A2tResetPasswordComponent.prototype._sessionService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYTJ0LXJlc2V0LXBhc3N3b3JkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXIyLXRva2VuLyIsInNvdXJjZXMiOlsiYTJ0LXVpL2EydC1yZXNldC1wYXNzd29yZC9hMnQtcmVzZXQtcGFzc3dvcmQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFTLE1BQU0sZUFBZSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBR3BFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQzs7SUE0QmxELG1DQUNZLGNBQ0E7UUFGWixpQkFXQztRQVZXLGlCQUFZLEdBQVosWUFBWTtRQUNaLG9CQUFlLEdBQWYsZUFBZTswQkFKTCxLQUFLO1FBTXZCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUMvQixVQUFDLElBQXVCLElBQUssT0FBQSxLQUFJLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQzNFLFVBQUEsR0FBRyxJQUFTLE9BQUEsS0FBSSxDQUFDLGNBQWMsRUFBRSxFQUFyQixDQUFxQixFQUNqQyxVQUFBLEtBQUssSUFBTyxPQUFBLEtBQUksQ0FBQyxZQUFZLEVBQUUsRUFBbkIsQ0FBbUIsQ0FDbEMsRUFINEIsQ0FHNUIsQ0FDSixDQUFDO0tBQ0w7Ozs7SUFFTyxrREFBYzs7OztRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQzs7Ozs7SUFHbkIsZ0RBQVk7Ozs7UUFDaEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7OztnQkE1QzlCLFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQVEsb0JBQW9CO29CQUNwQyxTQUFTLEVBQU8sQ0FBQyxjQUFjLENBQUM7b0JBQ2hDLFFBQVEsRUFBRSw0WkFPVDtvQkFDRCxNQUFNLEVBQUUsQ0FBQyw4T0FTUixDQUFDO2lCQUNMOzs7O2dCQXhCUSxjQUFjO2dCQUhkLG9CQUFvQjs7b0NBRDdCOztTQTZCYSx5QkFBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbmd1bGFyMlRva2VuU2VydmljZSB9IGZyb20gJy4uLy4uL2FuZ3VsYXIyLXRva2VuLnNlcnZpY2UnO1xuXG5pbXBvcnQgeyBSZXNldFBhc3N3b3JkRGF0YSB9IGZyb20gJy4uLy4uL2FuZ3VsYXIyLXRva2VuLm1vZGVsJztcbmltcG9ydCB7IEEydEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi4vYTJ0LXNoYXJlZC9hMnQtZm9ybS9hMnQtZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IFJFU0VUX1BBU1NXT1JEX0ZPUk0gfSBmcm9tICcuLi9hMnQtdWkuZm9ybXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogICAgICAgJ2EydC1yZXNldC1wYXNzd29yZCcsXG4gICAgcHJvdmlkZXJzOiAgICAgIFtBMnRGb3JtU2VydmljZV0sXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGEydC1oZWFkbGluZSAqbmdJZj1cIiFfZW1haWxTZW5kXCI+UmVzZXQgeW91ciBQYXNzd29yZDwvYTJ0LWhlYWRsaW5lPlxuICAgICAgICA8YTJ0LWZvcm0gKm5nSWY9XCIhX2VtYWlsU2VuZFwiPlJlc2V0IFBhc3N3b3JkPC9hMnQtZm9ybT5cbiAgICAgICAgPHAgY2xhc3M9XCJlbWFpbC1zZW5kLXRleHRcIiAqbmdJZj1cIl9lbWFpbFNlbmRcIj5cbiAgICAgICAgICAgIElmIHRoZSBlbnRlcmVkIGVtYWlsIGlzIHJlZ2lzdGVyZWQgd2Ugd2lsbCBzZW5kIGluc3RydWN0aW9uIG9uIGhvdyB0byByZXNldCB5b3VyIHBhc3N3b3JkLlxuICAgICAgICA8L3A+XG4gICAgICAgIDxhMnQtbGlua3MgKm5nSWY9XCIhX2VtYWlsU2VuZFwiIGNhc2U9XCJyZXNldC1wYXNzd29yZFwiPjwvYTJ0LWxpbmtzPlxuICAgIGAsXG4gICAgc3R5bGVzOiBbYFxuICAgICAgICAuZW1haWwtc2VuZC10ZXh0IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM3MmMzODA7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHQ7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICB9XG4gICAgYF1cbn0pXG5leHBvcnQgY2xhc3MgQTJ0UmVzZXRQYXNzd29yZENvbXBvbmVudCB7XG5cbiAgICBfZW1haWxTZW5kOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfZm9ybVNlcnZpY2U6IEEydEZvcm1TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIF9zZXNzaW9uU2VydmljZTogQW5ndWxhcjJUb2tlblNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgdGhpcy5fZm9ybVNlcnZpY2UuaW5pdEZvcm0oUkVTRVRfUEFTU1dPUkRfRk9STSk7XG4gICAgICAgIHRoaXMuX2Zvcm1TZXJ2aWNlLnN1Ym1pdCQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKGRhdGE6IFJlc2V0UGFzc3dvcmREYXRhKSA9PiB0aGlzLl9zZXNzaW9uU2VydmljZS5yZXNldFBhc3N3b3JkKGRhdGEpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICByZXMgPT4gICAgICB0aGlzLl9oYW5kbGVTdWNjZXNzKCksXG4gICAgICAgICAgICAgICAgZXJyb3IgPT4gICAgdGhpcy5faGFuZGxlRXJyb3IoKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgICAgIHRoaXMuX2VtYWlsU2VuZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlRXJyb3IoKSB7XG4gICAgICAgIHRoaXMuX2VtYWlsU2VuZCA9IHRydWU7XG4gICAgfVxufVxuIl19